import { Outlet } from "react-router-dom";
import FilterOption from "../../../Component/Common/FilterOption";
import CustomTab from "../../../Component/Common/Tabs";
import { useLocation } from "react-router-dom";
import * as actions from "../../../Redux/action";
import { useEffect } from "react";
import { useDispatch, useSelector } from "react-redux";
import * as roles from "../../../constantData/Roles";
const PentestTabs = () => {
  // console.log(data);
  const location = useLocation();
  // console.log(location);
  const pentestId = location?.state?.id;
  const dispatch = useDispatch();
  const { userRole } = useSelector((state) => state?.user);
  let filterAccess;
  if (userRole) {
    filterAccess = roles.showFilter(userRole);
  }
  useEffect(() => {
    dispatch(actions.getPentestTabDetailsRequest(pentestId));
  }, []);

  return (
    <div>
      {filterAccess && (
        <div className="w-full rounded-lg bg-white py-10 pl-7 shadow-sm ">
          <div className="max-w-lg">
            <FilterOption />
          </div>
        </div>
      )}

      <CustomTab />
      <div className=" mx-auto w-full max-w-4xl overflow-x-auto">
        <Outlet />
      </div>
    </div>
  );
};

export default PentestTabs;
