import { useNavigate } from "react-router-dom";
// import { useState } from "react";
import MoreVertIcon from "@mui/icons-material/MoreVert";
import PentestMenu from "./PentestMenu";
import moment from "moment";
// import Box from "@mui/material/Box";
const PentestLIstItem = ({
  pentest,
  openMenuButton,
  handleMenuClose,
  anchorEl,
  handleEdit,
  pentestStatus,
  openDeleteModal,
  index,
  Access,
}) => {
  const navigate = useNavigate();
  const { _id, asset, start_date, end_date, title } = pentest;
  console.log(title);
  return (
    <div
      className={` grid w-full  grid-cols-12 items-center gap-x-2  ${
        index % 2 === 0 && "bg-white "
      }  rounded-md`}
    >
      <div
        // sx={{ overflow: "hidden", width: 200, textOverflow: "ellipsis" }}
        className="text-orange-cus-1  col-span-3 max-w-[191.35px] overflow-hidden text-center text-xl
        font-medium"
      >
        <p>{title.length > 14 ? `${title.substring(0, 18)}...` : `${title}`}</p>
        {/* <p className="overflow-x-auto text-ellipsis">
          {title.substring(0, 18)}
        </p> */}
      </div>
      <div className="text-orange-cus-1 col-span-2 text-center text-base  ">
        {moment(start_date).format("l")}
      </div>
      <div className="text-orange-cus-1 col-span-2 text-center text-base   ">
        {moment(end_date).format("l")}
      </div>

      <div className="text-orange-cus-1 col-span-2 text-center  text-lg font-semibold ">
        {asset}
      </div>
      <div
        className="col-span-2 py-3 px-3 text-center text-sky-600 underline hover:cursor-pointer hover:text-sky-700"
        onClick={() => navigate(`${_id}/overview`, { state: { id: _id } })}
      >
        Details
      </div>
      {!Access ? (
        <div className="col-span-1"></div>
      ) : (
        <div className="col-span-1 ml-auto py-3 pr-5">
          <button onClick={(e) => openMenuButton(e, _id)}>
            <MoreVertIcon />
          </button>
          <PentestMenu
            handleMenuClose={handleMenuClose}
            anchorEl={anchorEl}
            handleEdit={handleEdit}
            openDeleteModal={openDeleteModal}
          />
        </div>
      )}
    </div>
  );
};

export default PentestLIstItem;
