import { useNavigate } from "react-router-dom";
// import { useState } from "react";
import MoreVertIcon from "@mui/icons-material/MoreVert";
import PentestMenu from "./PentestMenu";
import moment from "moment";
import Box from '@mui/material/Box';
const PentestLIstItem = ({
  pentest,
  openMenuButton,
  handleMenuClose,
  anchorEl,
  handleEdit,
  pentestStatus,
  openDeleteModal,
  index,
  Access,
}) => {
  const navigate = useNavigate();
  const { _id, asset, start_date, end_date, title } = pentest;
console.log(title);
  return (
    <div
      className={` grid grid-cols-12  gap-2 w-full items-center  ${
        index % 2 === 0 && "bg-white "
      }  rounded-md`}  
    >
      <Box component="div" 
sx={{overflow: "hidden", width: 200,textOverflow: 'ellipsis'}}  className="text-orange-cus-1 col-span-3 text-xl font-medium  text-center">
         <p>{title.length > 10? `${title.substring(0,10)}...`: `${title}`}
         
         </p></Box>
      <div className="text-orange-cus-1 text-base text-center col-span-2  ">
        {moment(start_date).format("l")}
      </div>
      <div className="text-orange-cus-1 text-base text-center col-span-2   ">
        {moment(end_date).format("l")}
      </div>

      <div className="text-orange-cus-1 font-semibold text-lg  text-center col-span-2 ">
        {asset}
      </div>
      <div
        className="text-sky-600 underline hover:text-sky-700 hover:cursor-pointer py-3 px-3 text-center col-span-2"
        onClick={() => navigate(`${_id}/overview`, { state: { id: _id } })}
      >
        Details
      </div>
      {!Access ? (
        <div className="col-span-1"></div>
      ) : (
        <div className="py-3 pr-5 col-span-1 ml-auto">
          <button onClick={(e) => openMenuButton(e, _id)}>
            <MoreVertIcon />
          </button>
          <PentestMenu
            handleMenuClose={handleMenuClose}
            anchorEl={anchorEl}
            handleEdit={handleEdit}
            openDeleteModal={openDeleteModal}
          />
        </div>
      )}
    </div>
  );
};

export default PentestLIstItem;

