import { useNavigate } from "react-router-dom";
// import { useState } from "react";
import MoreVertIcon from "@mui/icons-material/MoreVert";
import PentestMenu from "./PentestMenu";
import moment from "moment";
import Fab from "@mui/material/Fab";
import IconButton from "@mui/material/IconButton";
import { IoTrashOutline } from "react-icons/io5";
import ModeEditOutlineIcon from "@mui/icons-material/ModeEditOutline";
// import Box from "@mui/material/Box";
const PentestLIstItem = ({
  pentest = [],
  // openMenuButton,
  // handleMenuClose,
  // anchorEl,
  handleEdit,
  pentestStatus,
  openDeleteModal,
  index,
  Access,
}) => {
  const navigate = useNavigate();
  const { _id, asset, start_date, end_date, title } = pentest;
  // console.log(title);
  return (
    <div
      className={` grid w-full  grid-cols-12 items-center  py-3  ${
        index % 2 === 0 && "bg-white "
      }  rounded-md`}
    >
      <div
        // sx={{ overflow: "hidden", width: 200, textOverflow: "ellipsis" }}
        className=" col-span-3  max-w-[250px] overflow-hidden text-center text-lg font-medium
        text-orange-cus-1"
      >
        {/* <p>{title.length > 14 ? `${title.substring(0, 18)}...` : `${title}`}</p> */}
        {/* <p className="overflow-x-auto text-ellipsis">
          {title.substring(0, 18)}
        </p> */}
        <p>{title}</p>
      </div>
      <div className="col-span-2 text-center text-base text-orange-cus-1  ">
        {moment(start_date).format("l")}
      </div>
      <div className="col-span-2 text-center text-base text-orange-cus-1   ">
        {moment(end_date).format("l")}
      </div>

      <div className="col-span-2 text-center text-lg  font-semibold text-orange-cus-1 ">
        {asset?.asset_name}
      </div>
      {!Access ? (
        <div className="col-span-2 "></div>
      ) : (
        <div className="col-span-2 ">
          <div className="ml-3 flex items-center gap-4">
            <IconButton onClick={() => handleEdit(_id)}>
              <ModeEditOutlineIcon sx={{ color: "#606060" }} />
            </IconButton>
            <IconButton onClick={() => openDeleteModal(_id)}>
              <IoTrashOutline className="text-lg text-red-500" />
            </IconButton>
          </div>

          {/* <button onClick={(e) => openMenuButton(e, _id)}>
            <MoreVertIcon />
          </button>
          <PentestMenu
            handleMenuClose={handleMenuClose}
            anchorEl={anchorEl}
            handleEdit={handleEdit}
            openDeleteModal={openDeleteModal}
          /> */}
        </div>
      )}
      <div className="col-span-1  text-center text-sky-600 underline hover:text-sky-700">
        <p
          className="w-14 hover:cursor-pointer  "
          onClick={() => navigate(`${_id}/overview`, { state: { id: _id } })}
        >
          Details
        </p>
      </div>
    </div>
  );
};

export default PentestLIstItem;
