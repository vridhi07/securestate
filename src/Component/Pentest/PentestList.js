import { useState } from "react";
import DarkButton from "../Common/DarkButton";
import AddPentestModal from "./AddPentestModal";
import PentestListItem from "./PentestListItem";
import CompletedListItem from "./CompletedListItem";
import Pagination from "@mui/material/Pagination";
import Stack from "@mui/material/Stack";
const PentestList = () => {
  const [addPentest, setAddPentest] = useState(false);
  const [activePageNumber, setActivePageNumber] = useState(1);
  const [upcomingPageNumber, setUpcomingPageNumber] = useState(1);
  const [completedPageNumber, setCompletedPageNumber] = useState(1);
  const handleActivePageNumber = (e, i) => {
    console.log(i);
    setActivePageNumber(i);
  };
  const handleUpcomingPageNumber = (e, i) => {
    console.log(i);
    setUpcomingPageNumber(i);
  };
  const handleCompletedPageNumber = (e, i) => {
    console.log(i);
    setCompletedPageNumber(i);
  };

  return (
    <>
      <div className="flex justify-center flex-col w-full xl:w-5/6 mx-auto">
        <div className="flex flex-col sm:flex-row justify-between w-full items-center mt-20">
          <span className="text-gray-600 font-medium text-xl">
            ACTIVE PENTESTS
          </span>
          <DarkButton
            onClick={() => setAddPentest(true)}
            text={"New Pentest"}
          />
        </div>
        <div>
          {[1, 2, 3].map((value, index) => (
            <PentestListItem key={index} index={index} />
          ))}
          <div className="mt-3">
            <Stack spacing={2}>
              <Pagination
                count={10}
                variant="outlined"
                onChange={handleActivePageNumber}
                color="primary"
                page={activePageNumber}
              />
            </Stack>
          </div>
        </div>

        <span className="text-gray-600 font-medium text-xl mt-20">
          UPCOMING PENTESTS
        </span>
        <div>
          {[1, 2, 3].map((value, index) => (
            <PentestListItem key={index} index={index} />
          ))}
          <div className="mt-3">
            <Stack spacing={2}>
              <Pagination
                count={10}
                variant="outlined"
                onChange={handleUpcomingPageNumber}
                color="primary"
                page={upcomingPageNumber}
              />
            </Stack>
          </div>
        </div>

        <span className="text-gray-600 font-medium text-xl mt-20">
          COMPLETED PENTESTS
        </span>
        <div>
          {[1, 2, 3].map((value, index) => (
            <CompletedListItem key={index} index={index} />
          ))}
        </div>
        <div className="mt-3 mb-3">
          <Stack spacing={2}>
            <Pagination
              count={10}
              variant="outlined"
              color="primary"
              page={completedPageNumber}
              onChange={handleCompletedPageNumber}
            />
          </Stack>
        </div>
      </div>
      <AddPentestModal addPentest={addPentest} setAddPentest={setAddPentest} />
    </>
  );
};

export default PentestList;
